<!DOCTYPE html>
<html id="XenForo" dir="ltr" class="Public LoggedOut Sidebar Responsive hasJs NoTouch HasDragDrop" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en-us">
<head><script type="text/javascript" async="" src="about:blank"></script><script async="" type="text/javascript" src="about:blank"></script><script src="about:blank" async="" type="text/javascript"></script><script async="" src="about:blank"></script><script async="" type="text/javascript" src="about:blank"></script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script>
<script>/* Code removed by ScrapBook */</script>
<script async="" src="about:blank"></script>
<script>/* Code removed by ScrapBook */</script>
<link rel="preload" as="script" href="https://securepubads.g.doubleclick.net/tag/js/gpt.js">
<link href="https://ad.doubleclick.net/" rel="dns-prefetch">
<link href="https://pagead2.googlesyndication.com/" rel="dns-prefetch">
<link href="https://googleads.g.doubleclick.net/" rel="dns-prefetch">
<link href="https://tpc.googlesyndication.com/" rel="dns-prefetch">
<link href="https://adservice.google.com/" rel="dns-prefetch">
<link href="https://secureads.g.doubleclick.net/" rel="dns-prefetch">
<link href="https://www.googletagservices.com/" rel="dns-prefetch">
<link rel="preload" as="script" href="https://go.ezodn.com/hb/dall.js?b=33across,adpone,adyoulike,amx,appnexus,ix,luponmedia,oftmedia,onetag,pubmatic,rubicon,sovrn,triplelift,unruly&amp;cb=195-2-35">
<script rel="preload" async="" src="about:blank"></script>
<script data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script>
<script>/* Code removed by ScrapBook */</script>
<script>/* Code removed by ScrapBook */</script>
<script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script>
<script async="" src="about:blank"></script>
<script ez-screx="true">/* Code removed by ScrapBook */</script>
<script ez-screx="true">/* Code removed by ScrapBook */</script>
<script data-ezscrex="false" data-cfasync="false">/* Code removed by ScrapBook */</script>
<script>/* Code removed by ScrapBook */</script>
<script data-ezscrex="false" data-cfasync="false">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-pagespeed-no-defer="" data-cfasync="false">/* Code removed by ScrapBook */</script><script src="about:blank" async=""></script>
<script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="">/* Code removed by ScrapBook */</script><link rel="preconnect" href="https://m.servedby-buysellads.com/">
<link rel="preconnect" href="https://www.ispconfig.org/">
<link rel="preconnect" href="https://www.lxer.com/">
<link rel="preconnect" href="https://linux.die.net/">
<link rel="preconnect" href="https://www.google.com/">
<link rel="preconnect" href="https://news.ycombinator.com/">
<link rel="preconnect" href="https://www.xenfocus.com/">
<link rel="preconnect" href="https://www.facebook.com/">
<link rel="preconnect" href="https://twitter.com/">
<link rel="preconnect" href="https://plus.google.com/">
<link rel="preconnect" href="https://howtoforge.nl/">
<link rel="preconnect" href="https://howtoforge.fr/">
<link rel="preconnect" href="https://go.ezoic.net/">
<script data-ezscrex="false" data-cfasync="false" data-pagespeed-no-defer="" src="about:blank"></script>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="IE=Edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">
<base href="">
<script ez-screx="true">/* Code removed by ScrapBook */</script>
<title>Linux strace Command Tutorial for Beginners (8 Examples)</title>
<meta name="description" content="The Linux command line offers many tools that are helpful for software developers. One among them is strace. The strace command in Linux lets you trac...">
<meta property="og:title" content="Linux strace Command Tutorial for Beginners (8 Examples)">
<meta property="og:description" content="The Linux command line offers many tools that are helpful for software developers. One among them is strace. The strace command in Linux lets you trac...">
<meta property="og:site_name" content="HowtoForge">
<meta property="og:type" content="article">
<meta property="og:image" content="https://www.howtoforge.com/images/featured/linux-strace-command.jpg">
<meta property="og:image:secure_url" content="https://www.howtoforge.com/images/featured/linux-strace-command.jpg">
<meta property="og:image:alt" content="Linux strace Command Tutorial for Beginners (8 Examples)">
<meta name="twitter:image" content="https://www.howtoforge.com/images/featured/linux-strace-command.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@howtoforgecom">
<meta name="twitter:creator" content="@howtoforgecom">
<meta name="twitter:title" content="Linux strace Command Tutorial for Beginners (8 Examples)">
<meta name="twitter:description" content="The Linux command line offers many tools that are helpful for software developers. One among them is strace. The strace command in Linux lets you trac...">
<link rel="alternate" href="https://www.howtoforge.com/linux-strace-command/" hreflang="en">
<link rel="canonical" href="https://www.howtoforge.com/linux-strace-command/">
<link rel="amphtml" href="https://www.howtoforge.com/linux-strace-command/amp/">
<script type="application/ld+json">/* Code removed by ScrapBook */</script>

<link rel="stylesheet" href="font-awesome.min.css">
<link href="opensans.css" rel="stylesheet">
<link href="xf.css" rel="stylesheet">
<script src="about:blank" ez-screx="true"></script>
<script src="about:blank" ez-screx="true"></script>
<script src="about:blank" ez-screx="true"></script>
<script src="about:blank" ez-screx="true"></script>
<script src="about:blank" ez-screx="true"></script>
<link rel="stylesheet" href="jquery.fancybox-1.3.4.css" media="screen">
<link href="style.min.css" rel="stylesheet">
<link rel="alternate" type="application/rss+xml" title="RSS-Feed fÃ¼r Howtoforge" href="https://www.howtoforge.com/feed.rss">
<script src="about:blank" ez-screx="true"></script>
<link rel="preload" href="https://www.howtoforge.com/js/tinymce_4.1.7/skins/lightgray/skin.min.css" as="style">
<link rel="preload" href="https://www.howtoforge.com/js/tinymce_4.1.7/skins/lightgray/content.min.css" as="style">
<link rel="preload" href="https://www.howtoforge.com/themes/howtoforge/css/custom.css" as="style">
<link rel="preload" href="https://www.howtoforge.com/js/tinymce_4.1.7/skins/lightgray/fonts/tinymce.woff" as="font">
<script ez-screx="true">/* Code removed by ScrapBook */</script>
<script src="about:blank" ez-screx="true"></script>
<style id="ezoicCSS">
/* Code tidied up by ScrapBook */
.ezoic-ad.box-2 { border: medium none !important; display: block !important; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.box-2 { border: medium none !important; display: block !important; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.box-2 { border: medium none !important; display: block !important; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.box-2105 { background: rgba(0, 0, 0, 0) none repeat scroll 0px 0px !important; display: flex !important; float: none; justify-content: space-between; line-height: 0; margin: 15px auto !important; max-width: 100% !important; min-width: 970px; padding: 0px; text-align: center !important; width: 970px; }
.ezoic-ad.box-3106 { display: inline-block; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 90px; min-width: 728px; padding: 0px; }
.ezoic-ad.link-h-large-1130 { display: block !important; float: none; line-height: 0; margin: 25px 0px !important; max-width: 100% !important; min-height: 15px; min-width: 728px; padding: 0px; text-align: center !important; }
.ezoic-ad.medrectangle-4108 { display: block !important; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 400px; min-width: 580px; padding: 0px; text-align: center !important; }
.ezoic-ad.box-4110 { display: block !important; float: none; line-height: 0; margin: 15px 0px !important; max-width: 100% !important; min-height: 400px; min-width: 580px; padding: 0px; text-align: center !important; }
.ezoic-ad.large-billboard-2 { border: medium none !important; display: block !important; float: none !important; line-height: 0; margin: 8px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.large-billboard-2 { border: medium none !important; display: block !important; float: none !important; line-height: 0; margin: 8px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.large-billboard-2 { border: medium none !important; display: block !important; float: none !important; line-height: 0; margin: 8px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.large-billboard-2 { border: medium none !important; display: block !important; float: none !important; line-height: 0; margin: 8px 0px !important; max-width: 100% !important; min-height: 250px; min-width: 300px; padding: 0px; text-align: center !important; }
.ezoic-ad.large-billboard-2125 { background: rgba(0, 0, 0, 0) none repeat scroll 0px 0px !important; display: block !important; float: none !important; line-height: 0; margin-left: auto !important; margin-right: auto !important; max-width: 100% !important; min-width: 300px; padding: 0px; text-align: center !important; width: 300px; }
.ezoic-ad.link-v-med-1103 { display: block !important; float: none; line-height: 0; margin: 35px 0px 25px !important; max-width: 100% !important; min-height: 90px; min-width: 160px; padding: 0px; text-align: center !important; }
.ezoic-ad.medrectangle-2100 { display: inline-block; float: none; line-height: 0; max-width: 100% !important; min-height: 90px; min-width: 728px; padding: 0px; }
.ezoic-ad { display: inline-block; border: 0px none; }
.ezmob-footer { position: fixed; left: 0px; bottom: 0px; width: 100%; background: rgb(255, 255, 255) none repeat scroll 0% 0%; z-index: 100000; line-height: 0; }
.ezmob-footer-desktop { background-color: rgba(255, 255, 255, 0.8); border-top: 1px solid rgb(211, 211, 211); padding-top: 5px; }
.ezmob-footer-close { cursor: pointer; color: rgb(178, 178, 178); border: 1px solid rgb(178, 178, 178); border-radius: 20px; background: rgb(255, 255, 255) none repeat scroll 0% 0%; line-height: 20px; display: inline-block; font-size: 20px; font-family: arial,sans-serif; padding: 0px 5px; position: absolute; top: 5px; right: 5px; height: 24px; width: 21px; text-align: center; }
body { padding-bottom: 120px !important; height: auto; }
#ezmobfooter { bottom: 0px !important; }
</style><script>/* Code removed by ScrapBook */</script><script>/* Code removed by ScrapBook */</script>
<script data-ezscrex="false">/* Code removed by ScrapBook */</script>
<script data-ezscrex="false" data-pagespeed-no-defer="" data-cfasync="false">/* Code removed by ScrapBook */</script>
<script>/* Code removed by ScrapBook */</script><script src="about:blank" async=""></script>
<script defer="">/* Code removed by ScrapBook */</script><script src="about:blank" async=""></script><style>
/* Code tidied up by ScrapBook */
</style><script src="about:blank" async=""></script><div id="_bsa_srv-CEBDK2JM_0"></div><script async="" src="about:blank"></script><script src="about:blank" async=""></script><div id="_bsa_srv-CKYDL27E_1"></div><link rel="stylesheet" href="skin.min.css"></head>
<body><div id="content" class="forum_list"><div class="pageWidth"><div class="pageContent"><div class="mainContainer"><div class="mainContent"><div id="htfContentPage"><!--DOCUMENT_FRAGMENT--><article><h1>Linux strace Command Tutorial for Beginners (8 Examples)</h1>
<div class="contributeEdit" style="float: right; width: 450px; max-width: 100%;">
<div id="tocContainer">
<h3>On this page</h3>
<ol class="toc">
<li><a href="#q-how-to-use-strace-command">Q1. How to use strace command?</a>
</li><li><a href="#q-how-to-comprehend-strace-output">Q2. How to comprehend strace output?</a>
</li><li><a href="#q-how-to-make-strace-print-instruction-pointer">Q3. How to make strace print instruction pointer?</a>
</li><li><a href="#q-how-to-make-strace-print-timestamp-for-each-system-call">Q4. How to make strace print timestamp for each system call?</a>
</li><li><a href="#q-how-to-prefix-each-output-line-with-clock-time">Q5. How to prefix each output line with clock time?</a>
</li><li><a href="#q-how-to-make-strace-show-time-spent-in-system-calls">Q6. How to make strace show time spent in system calls?</a>
</li><li><a href="#q-how-to-make-strace-print-a-summary-instead-of-usual-output">Q7. How to make strace print a summary instead of usual output?</a>
</li><li><a href="#conclusion">Conclusion</a>
</li></ol>
</div>
</div>
<p>The Linux command line offers many tools that are helpful for software developers. One among them is <strong>strace</strong>, the basics of which we'll be discussing in this tutorial using some easy to understand examples.<span id="ezoic-pub-ad-placeholder-106" class="ezoic-adpicker-ad"></span><span class="ezoic-ad box-3 box-3106 adtester-container adtester-container-106" data-ez-name="howtoforge_com-box-3"><span id="div-gpt-ad-howtoforge_com-box-3-0" ezaw="728" ezah="90" style="position: relative; z-index: 0; display: inline-block; padding: 0px; min-height: 90px; min-width: 728px;" class="ezoic-ad"><script data-ezscrex="false" data-cfasync="false" style="display: none;">/* Code removed by ScrapBook */</script></span></span>
</p><p>But before we do that, it's worth mentioning that all examples in this article have been tested on an Ubuntu 18.04 LTS and Debian 10 machine.<span id="ezoic-pub-ad-placeholder-121" class="ezoic-adpicker-ad"></span>
</p><h1>Linux strace command</h1>
<p>The strace command in Linux lets you trace system calls and signals. Following is its syntax:
</p><pre class="command">strace [OPTIONS] command</pre>
<p>And here's how the tool's man page explains it:
</p><pre>       In&nbsp; the simplest case strace runs the specified command until it exits.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; It intercepts and records the&nbsp; system&nbsp; calls&nbsp; which&nbsp; are&nbsp; called&nbsp; by&nbsp; a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; process&nbsp; and&nbsp; the signals which are received by a process.&nbsp; The name of<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; each system call, its arguments and its return&nbsp; value&nbsp; are&nbsp; printed&nbsp; on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; standard error or to the file specified with the -o option.<br><br>       strace is a useful diagnostic, instructional, and debugging tool.&nbsp; Sys?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tem administrators, diagnosticians and trouble-shooters&nbsp; will&nbsp; find&nbsp; it<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; invaluable&nbsp; for&nbsp; solving problems with programs for which the source is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not readily available since they do not need to be recompiled in&nbsp; order<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to trace them.&nbsp; Students, hackers and the overly-curious will find that<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a great deal can be learned about a system&nbsp; and&nbsp; its&nbsp; system&nbsp; calls&nbsp; by<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tracing&nbsp; even&nbsp; ordinary programs.&nbsp; And programmers will find that since<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; system calls and signals are events&nbsp; that&nbsp; happen&nbsp; at&nbsp; the&nbsp; user/kernel<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interface,&nbsp; a close examination of this boundary is very useful for bug<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; isolation, sanity checking and attempting to capture race conditions.</pre>
<p>The following are some Q&amp;A-styled examples that should give you a better idea of how the strace command works.</p><div style="width: 336px; float: left; margin: 10px 15px 10px 0px; background-color: rgb(255, 255, 255);">
</div>
<p>Installing strace command<span id="ezoic-pub-ad-placeholder-130" class="ezoic-adpicker-ad"></span><span class="ezoic-ad link-h-large-1 link-h-large-1130 adtester-container adtester-container-130" data-ez-name="howtoforge_com-link-h-large-1"></span></p><div id="howtoforge_com-link-h-large-1" class="ezo_link_unit_a"><ins class="adsbygoogle ezfound" style="display: inline-block; width: 728px; height: 15px;" data-ad-client="ca-pub-3043223216276099" data-ad-slot="2663697646" data-ad-channel="7741601259"></ins><script>/* Code removed by ScrapBook */</script></div>
<p>The strace command is not installed by Default on most systems, to install it on Debian and Ubuntu, run this command:
</p><pre class="command">sudo apt-get install strace</pre>
<h2 id="q-how-to-use-strace-command">Q1. How to use strace command?</h2>
<p>Basic usage is simple, just execute 'strace' with a command as input. For example, I used it with the ls command:
</p><pre class="command">strace ls</pre>
<p>And here's the output produced on my system:
</p><p style="text-align: center;"><a class="fancybox" id="img-strace-command" href="strace-command_001.png"><img loading="lazy" src="strace-command.png" alt="Using strace command on Linux" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="https://www.howtoforge.com/images/command-tutorial/strace-command.png?ezimgfmt=rs:750x361/rscb5/ng:webp/ngcb5" ezoid="0.5542522787270886" width="750" height="361"></a><span id="ezoic-pub-ad-placeholder-108" class="ezoic-adpicker-ad"></span><span class="ezoic-ad medrectangle-4 medrectangle-4108 adtester-container adtester-container-108" data-ez-name="howtoforge_com-medrectangle-4"><span id="div-gpt-ad-howtoforge_com-medrectangle-4-0" ezaw="580" ezah="400" style="position: relative; z-index: 0; display: inline-block; padding: 0px; width: 100%; max-width: 1200px; margin-left: auto !important; margin-right: auto !important; min-height: 400px; min-width: 580px;" class="ezoic-ad"><script data-ezscrex="false" data-cfasync="false" style="display: none;">/* Code removed by ScrapBook */</script><ins id="div-gpt-ad-howtoforge_com-medrectangle-4-0-asloaded" class="adsbygoogle ezasloaded ezfound" data-ad-client="ca-pub-3043223216276099" data-ad-slot="9275568371" data-ad-channel="5498581296" data-full-width-responsive="true" style="display: block; width: 942px; height: 400px;"></ins></span></span>
</p><h2 id="q-how-to-comprehend-strace-output">Q2. How to comprehend strace output?</h2>
<p>As you can see in the screenshot in the previous section, the strace command produces a lot of output. So you need to be aware of how to comprehend it.
</p><p>The following excerpts from the man page provide a to-the-point explanation:
</p><pre>       Each line in the trace contains the system call name, followed&nbsp; by&nbsp; its<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments&nbsp; in parentheses and its return value.&nbsp; An example from strac?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ing the command "cat /dev/null" is:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open("/dev/null", O_RDONLY) = 3<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Errors (typically a return value of -1) have the errno symbol and error<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string appended.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open("/foo/bar", O_RDONLY) = -1 ENOENT (No such file or directory)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Signals are printed as signal symbol and decoded siginfo structure.&nbsp; An<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; excerpt from stracing and interrupting the command "sleep 666" is:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sigsuspend([] &lt;unfinished ...&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --- SIGINT {si_signo=SIGINT, si_code=SI_USER, si_pid=...} ---<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +++ killed by SIGINT +++</pre>
<h2 id="q-how-to-make-strace-print-instruction-pointer">Q3. How to make strace print instruction pointer?</h2>
<p>There's an option -i that tells strace to print instruction pointer at the time of system call.
</p><p>For example:
</p><pre class="command">strace -i ls</pre>
<p>Here's the output:<span id="ezoic-pub-ad-placeholder-110" class="ezoic-adpicker-ad"></span><span class="ezoic-ad box-4 box-4110 adtester-container adtester-container-110" data-ez-name="howtoforge_com-box-4"><span id="div-gpt-ad-howtoforge_com-box-4-0" ezaw="580" ezah="400" style="position: relative; z-index: 0; display: inline-block; padding: 0px; width: 100%; max-width: 1200px; margin-left: auto !important; margin-right: auto !important; min-height: 400px; min-width: 580px;" class="ezoic-ad"><script data-ezscrex="false" data-cfasync="false" style="display: none;">/* Code removed by ScrapBook */</script></span></span>
</p><p style="text-align: center;"><a class="fancybox" id="img-strace-pointer" href="strace-pointer_001.png"><img loading="lazy" src="strace-pointer.png" alt="How to make strace print instruction pointer" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="https://www.howtoforge.com/images/command-tutorial/strace-pointer.png?ezimgfmt=rs:750x408/rscb5/ng:webp/ngcb5" ezoid="0.7205964687969457" width="750" height="408"></a>
</p><p style="text-align: left;">So you can see that the instruction pointer was printed in each line in the output.
</p><h2 id="q-how-to-make-strace-print-timestamp-for-each-system-call">Q4. How to make strace print timestamp for each system call?</h2>
<p>There exists a -r command-line option that tells strace to display a relative timestamp upon entry to each system call. The tool's man page says this records the time difference between the beginning of successive system calls.
</p><p>For example:
</p><pre class="command">strace -r ls</pre>
<p>Following is the output produced by this command:<span id="ezoic-pub-ad-placeholder-111" class="ezoic-adpicker-ad"></span>
</p><p style="text-align: center;"><a class="fancybox" id="img-strace-r-option1" href="strace-r-option1_001.png"><img loading="lazy" src="strace-r-option1.png" alt="How to make strace print timestamp for each system call" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="https://www.howtoforge.com/images/command-tutorial/strace-r-option1.png?ezimgfmt=rs:750x388/rscb5/ng:webp/ngcb5" ezoid="0.5650141590969937" width="750" height="388"></a>
</p><p>So you can see that a relative timestamp was produced in the beginning of every line.
</p><h2 id="q-how-to-prefix-each-output-line-with-clock-time">Q5. How to prefix each output line with clock time?</h2>
<p>If you want each line in strace output to start with clock time, then this can be done using the -t command line option.
</p><p>For example:
</p><pre class="command">strace -t ls</pre>
<p>Here's the output of this command on my system:<span id="ezoic-pub-ad-placeholder-112" class="ezoic-adpicker-ad"></span>
</p><p style="text-align: center;"><a class="fancybox" id="img-strace-time-prefix" href="strace-time-prefix_001.png"><img loading="lazy" src="strace-time-prefix.png" alt="Strace time prefix" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="https://www.howtoforge.com/images/command-tutorial/strace-time-prefix.png?ezimgfmt=rs:750x411/rscb5/ng:webp/ngcb5" ezoid="0.1520469076529899" width="750" height="411"></a>
</p><p style="text-align: left;">So you can see that system time got printed at the beginning of each line.
</p><p style="text-align: left;">Note that there are two more related options strace offers:
</p><pre style="text-align: left;">-tt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>If given twice, the time printed will include the microseconds.<br><br>-ttt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>If given thrice, the&nbsp; time&nbsp; printed&nbsp; will&nbsp; include&nbsp; the microseconds and the leading portion will <br>be printed as the number of seconds since the epoch.</pre>
<h2 id="q-how-to-make-strace-show-time-spent-in-system-calls">Q6. How to make strace show time spent in system calls?</h2>
<p>This can be achieved using the -T command-line option.
</p><p>For example:
</p><pre class="command">strace -T ls</pre>
<p>Following is the output:
</p><p style="text-align: center;"><a class="fancybox" id="img-strace-timing-details" href="strace-timing-details_001.png"><img loading="lazy" src="strace-timing-details.png" alt="Show function call timings with strace" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="https://www.howtoforge.com/images/command-tutorial/strace-timing-details.png?ezimgfmt=rs:750x393/rscb5/ng:webp/ngcb5" ezoid="0.8445675872108" width="750" height="393"></a>
</p><p style="text-align: left;">So you can see the time spent in system calls is printed at the end of each line.
</p><h2 id="q-how-to-make-strace-print-a-summary-instead-of-usual-output">Q7. How to make strace print a summary instead of usual output?</h2>
<p>The -c command line output can be used if you want the tool to produce a summary.
</p><p>For example, the following command:<span id="ezoic-pub-ad-placeholder-113" class="ezoic-adpicker-ad"></span>
</p><pre class="command">strace -c ls</pre>
<p>produced this output on my system:
</p><pre>% time&nbsp;&nbsp;&nbsp;&nbsp; seconds&nbsp; usecs/call&nbsp;&nbsp;&nbsp;&nbsp; calls&nbsp;&nbsp;&nbsp; errors syscall<br>------ ----------- ----------- --------- --------- ----------------<br>&nbsp;93.66&nbsp;&nbsp;&nbsp; 0.000133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write<br>&nbsp; 6.34&nbsp;&nbsp;&nbsp; 0.000009&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; read<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fstat<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mmap<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mprotect<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; munmap<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; brk<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rt_sigaction<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rt_sigprocmask<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ioctl<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8 access<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; execve<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getdents<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 statfs<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arch_prctl<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set_tid_address<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; openat<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set_robust_list<br>&nbsp; 0.00&nbsp;&nbsp;&nbsp; 0.000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prlimit64<br>------ ----------- ----------- --------- --------- ----------------<br>100.00&nbsp;&nbsp;&nbsp; 0.000142&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10 total</pre>
<p>So you can see the summary gives you an idea about how many calls were made per syscall as well as time-related information for each syscall.
</p><h2 id="conclusion">Conclusion</h2>
<p>We've just scratched the surface here as the strace command offers a lot of other features as well. Once you're done practicing what all we've discussed here, head to the&nbsp;<a href="https://linux.die.net/man/1/strace" target="_blank">strace man page</a> to learn more about the tool.
</p></article>
<aside class="authorbox" style="margin-top: 20px;">
<img src="himanshu.jpg" alt="Himanshu Arora" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="/images/profile/himanshu.jpg?ezimgfmt=rs:80x80/rscb5/ng:webp/ngcb5" ezoid="0.04581629551741029"> <p><strong>About Himanshu Arora</strong>
</p><p>Himanshu Arora has been working on Linux since 2007. He carries professional experience in system level programming, networking protocols, and command line. In addition to HowtoForge, Himanshu's work has also been featured in some of world's other leading publications including Computerworld, IBM DeveloperWorks, and Linux Journal.
</p></aside>
<div style="height: 30px; margin-top: 20px;">
<p style="text-align: right;"><img src="pdficon_small.png" ezimgfmt="rs rscb5 src ng ngcb5" class=" ezlazyloaded" data-ezsrc="/images/pdficon_small.png?ezimgfmt=rs:16x16/rscb5/ng:webp/ngcb5" ezoid="0.6117349132277722"> <a class="pdf-btn">view as pdf</a> | <img src="print.gif" class=" ezlazyloaded" data-ezsrc="/images/print.gif" ezoid="0.6258857477541677"> <a class="print-btn">print</a></p></div><!--/DOCUMENT_FRAGMENT--></div></div></div></div></div></div></body>
</html>
